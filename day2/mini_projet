#include <stdio.h>
#include <string.h>

int main (){
    int h ,j ,x ,i = 0;
    char livre_chrch[20];
    int nvl_qnt;
    int rp ;
    
    char titre_livre[100][20];
    char auteur_livre[100][20];
    int prix_livre[100];
    int quantite_livre[100];

do {

    printf("########  Menu  ############\n");
    printf("1 => Ajouter un livre au stock. \n");
    printf("2 => Afficher tous les livres disponibles.\n");
    printf("3 => Rechercher un livre par son titre.\n");
    printf("4 => Mettre à jour la quantité d'un livre.\n");
    printf("5 => Supprimer un livre du stock.\n");
    printf("6 => Afficher le nombre total de livres en stock.\n");
    scanf("%d",&x);
    
    switch (x) {
        case 1 : 
            printf("Entrer le titre du livre : ");
            scanf("%s",titre_livre[i]);
            printf("Entrer l'auteur du livre : ");
            scanf("%s",auteur_livre[i]);
            printf("Entrer le prix du livre : ");
            scanf("%d",&prix_livre[i]);
            printf("Entrer la quantite du livre : ");
            scanf("%d",&quantite_livre[i]);
               
            i += 1;
        break;
        
        case 2 :
            if(i == 0){
                printf("Aucune livre disponible.\n");
            } else {
                for(j = 0;j < i;j++){
                    printf("Titre: %s || Auteur: %s || Prix: %d || Quantite: %d\n",
                           titre_livre[j], auteur_livre[j], prix_livre[j], quantite_livre[j]);
                }
            }
        break;
             
        case 3 : 
            printf("Entrer le livre que vous cherchez : ");
            scanf("%s",livre_chrch);
            
            int trouve = 0;
            for (j = 0;j < i;j++){
                if (strcmp(livre_chrch, titre_livre[j]) == 0){
                    printf("Le livre existe dans la librairie.\n");
                    trouve = 1;
                    break;
                }
            }
            if(trouve == 0) printf("Le livre n'existe pas.\n");
        break;
            
        case 4 :
            printf("Entrer le livre que vous cherchez : ");
            scanf("%s",livre_chrch);
            printf("Entrer la nouvelle quantite : ");
            scanf("%d",&nvl_qnt);
             
            trouve = 0;
            for (j = 0;j < i;j++){
                if (strcmp(livre_chrch, titre_livre[j]) == 0){
                    quantite_livre[j] = nvl_qnt;
                    printf("Quantite mise a jour avec succes.\n");
                    trouve = 1;
                    break;
                }
            }
            if(trouve == 0) printf("Impossible de modifier, le livre n'existe pas.\n");
        break;  
             
        case 5 :
             printf("entrer le titre de livre que tu veus suprime : \n");
             scanf("%s",livre_chrch);
             
              for (j = 0;j < i;j++){
                if (strcmp(livre_chrch,titre_livre[j]) == 0){
                       for (h = j;h < i;h++) {
                           strcpy(titre_livre[h],titre_livre[h+1]);
                           strcpy(auteur_livre[h],auteur_livre[h+1]);
                           prix_livre[j] = prix_livre[h+1];
                           quantite_livre[j] = quantite_livre[h+1];
                }
                i--;
                printf("le livre a etait suprime .");
                }
            }
        break;
        
        case 6 :
            if (i == 0){
                printf("La librairie est vide.\n");
            } else {
                printf("Le nombre total de livres dans le stock est : %d\n",i);
            }
        break;
        
        default : 
            printf("Le nombre n'existe pas dans le menu.\n"); 
        break;
    };
printf("show menu print 1 , if you don't print 0");
scanf("%d",rp);
    } while (rp ==1);

    return 0;
}
